(this.webpackJsonpchords=this.webpackJsonpchords||[]).push([[0],{27:function(e,t,n){},31:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(11),r=n.n(c),o=(n(39),n(3)),i=n.n(o),l=n(5),u=n(4),d=n(7),j=n(2),b=n.p+"static/media/search_icon.f326cfeb.svg",g=n.p+"static/media/background.fb8d516c.jpg",x=(n(41),n(0));function h(e){var t=e.isLogin,n=e.user,a=e.setIsLogin,c=window.location.search,r=new URLSearchParams(c).get("s"),o=Object(s.useState)(r||""),j=Object(u.a)(o,2),h=j[0],m=j[1];return t&&!n?Object(x.jsx)(x.Fragment,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"background"}),Object(x.jsx)("div",{className:"background_image",children:Object(x.jsx)("img",{src:g})}),Object(x.jsxs)("div",{className:"nav-bar",children:[Object(x.jsx)(d.b,{to:"/",className:"web_title valign-text-middle alfaslabone-normal-muddy-waters-50px",children:" Chords "}),Object(x.jsxs)("div",{className:"right-nav-pannel",children:[t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"nav-username",children:["Logged in as ",Object(x.jsx)("font",{color:"#8b4513",children:n.username})]}),Object(x.jsx)("div",{className:"nav-bar-button",children:Object(x.jsx)(d.b,{to:"/add_song",className:"navbar_button_link raleway-normal-black-20px",children:"Add song"})}),Object(x.jsx)("div",{className:"nav-bar-button",children:Object(x.jsx)(d.b,{to:"/log_out",className:"navbar_button_link raleway-normal-black-20px",onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!1),window.localStorage.clear();case 2:case"end":return e.stop()}}),e)}))),children:"Log out"})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"nav-bar-button",children:Object(x.jsx)(d.b,{to:"/log_in",className:"navbar_button_link raleway-normal-black-20px",children:"Log in"})}),Object(x.jsx)("div",{className:"nav-bar-button",children:Object(x.jsx)(d.b,{to:"/sign_up",className:"navbar_button_link raleway-normal-black-20px",children:"Sign up"})})]}),Object(x.jsxs)("div",{className:"search-box",children:[Object(x.jsx)("div",{className:"search-icon",children:Object(x.jsx)("img",{src:b})}),Object(x.jsx)("form",{action:"/search_results/".concat(encodeURIComponent(h)),method:"get",autoComplete:"true",children:Object(x.jsx)("input",{value:h,onInput:function(e){return m(e.target.value)},type:"text",placeholder:"Search...",className:"searchbar_text raleway-normal-black-15px"})})]})]})]})]})}var m=n(6),p=n(10),O=n(18),v=n(26),f=n(8),w="SET_SONG_LIST",y="SET_SONG",N="SET_ERROR",S="SET_SONG_LIST_MORE",k={songList:[],songs:{},isError:!1,page:0,count:0};var _=new p.b.Entity("user"),C=new p.b.Entity("song",{user:_});function L(e,t){var n=Object(p.a)(e,[C]),s=n.result,a=n.entities;return{type:w,payload:{count:t,songList:s,songs:a.song,users:a.user}}}function E(e){var t=Object(p.a)(e,[C]),n=t.result,s=t.entities;return{type:S,payload:{songList:n,songs:s.song,users:s.user}}}function F(){return{type:N}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&(e="?"+e),function(){var t=Object(l.a)(i.a.mark((function t(n){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:8000/api/songs".concat(e));case 3:return s=t.sent,t.next=6,s.json();case 6:a=t.sent,console.log("Fetched songs: ",a),n(L(a.results,a.count)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(F());case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(l.a)(i.a.mark((function t(n,s){var a,c,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=s(),c=a.songs.page,t.next=5,fetch("http://localhost:8000/api/songs?page=".concat(c+1,"&").concat(e));case 5:return r=t.sent,t.next=8,r.json();case 8:o=t.sent,n(E(o.results)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n(F());case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}function A(e){return function(){var t=Object(l.a)(i.a.mark((function t(n){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:8000/api/songs/".concat(e));case 3:return s=t.sent,t.next=6,s.json();case 6:a=t.sent,n({type:y,payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(F());case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}n(27);function P(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.songs.songList})),n=Object(m.c)((function(e){return e.songs.count})),s=Object(m.c)((function(e){return e.songs.isError})),c="ordering=-views";return a.a.useEffect((function(){e(I(c))}),[]),s?Object(x.jsx)("h1",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"page-title valign-text-middle alfaslabone-normal-muddy-waters-40px",children:"Popular"}),Object(x.jsxs)("div",{className:"song-list-header",children:[Object(x.jsx)("div",{className:"song-name valign-text-middle raleway-normal-ship-gray-15px",children:"Singer - song name"}),Object(x.jsx)("div",{className:"clicks-number valign-text-middle raleway-normal-ship-gray-15px",children:"Views"})]}),Object(x.jsxs)("div",{className:"elements-list",children:[t.map((function(e){return Object(x.jsx)(R,{id:e},e)})),t.length<n&&Object(x.jsx)("div",{className:"song-card-box",children:Object(x.jsx)("div",{className:"raleway-normal-ship-gray-15px show-more-button",onClick:function(){return e(T(c))},children:"Show more"})})]})]})}function R(e){var t=e.id,n=Object(m.c)((function(e){return e.songs.songs[t]}));return Object(x.jsx)(d.b,{to:"/song/".concat(n.id),children:Object(x.jsx)("div",{className:"song-card-box",children:Object(x.jsxs)("div",{className:"song-card",children:[Object(x.jsxs)("div",{className:"song-name valign-text-middle raleway-normal-ship-gray-15px",children:[n.singer," - ",n.song_name]}),Object(x.jsx)("div",{className:"clicks-number valign-text-middle raleway-normal-ship-gray-15px",children:n.views})]})})})}var D=n(19),z="http://localhost:8000/api/";function B(e){return H.apply(this,arguments)}function H(){return H=Object(l.a)(i.a.mark((function e(t){var n,s,a,c,r,o,l,u,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:{},s=window.localStorage.getItem("ACCESS"),a=n.headers||{},s&&(a.Authorization="Bearer ".concat(s)),e.next=6,fetch("".concat(z).concat(t),Object(f.a)(Object(f.a)({},n),{},{headers:a}));case 6:if(401!==(c=e.sent).status){e.next=20;break}return r=window.localStorage.getItem("REFRESH"),e.next=11,fetch("".concat(z,"token/refresh/"),{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({refresh:r})});case 11:return o=e.sent,e.next=14,o.json();case 14:return l=e.sent,window.localStorage.setItem("ACCESS",l.access),a.Authorization="Bearer ".concat(l.access),e.next=19,fetch("".concat(z).concat(t),Object(f.a)(Object(f.a)({},n),{},{headers:a}));case 19:c=e.sent;case 20:return e.next=22,c.json();case 22:return u=e.sent,e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}var J="SET_CHORD_LIST",U={chords:{},chordList:[]};var G=new p.b.Entity("chord");function M(e){var t=Object(p.a)(e,[G]),n=t.result,s=t.entities;return console.log("Result: ",n,"; Entities: ",s),{type:J,payload:{chordList:n,chords:s.chord}}}n(56);var Q=n.p+"static/media/arrow_down.0500c985.svg",V=n.p+"static/media/arrow_up.f7938c74.svg",W=n.p+"static/media/minus.8a6244c5.svg",q=n.p+"static/media/plus.d2c8885b.svg";function K(e){var t=e.isLogin,n=e.user,c=Object(m.b)(),r=Object(j.h)(),o=Object(s.useState)(13),b=Object(u.a)(o,2),g=b[0],h=b[1],p=Object(s.useState)(0),O=Object(u.a)(p,2),v=O[0],f=O[1],w=r.songId,y=Object(m.c)((function(e){return e.songs.songs[w]})),N=Object(m.c)((function(e){return e.chords}));if(a.a.useEffect((function(){c(A(w)),c(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8000/api/chords");case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,console.log("Fetched chords: ",s),t(M(s));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),a.a.useEffect(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=7;break}return t=new FormData,console.log("Song: ",y),t.append("views",(y.views+1).toString()),e.next=6,B("songs/".concat(w,"/"),{method:"PATCH",body:t});case 6:e.sent;case 7:case"end":return e.stop()}}),e)}))),[y]),!y||!N||0===N.length)return Object(x.jsx)(x.Fragment,{children:" "});function S(e){var t=v+e,n={smooth:"linear",containerId:"song-box",isDynamic:!0,duration:function(e){return 200*e/t}};t<0?D.animateScroll.scrollToTop(n):t>0?D.animateScroll.scrollToBottom(n):D.animateScroll.scrollTo(0),f(t)}for(var k=y.song_text.split(/\s+/),_=[],C=0,L=Object.entries(N.chords);C<L.length;C++){var E=Object(u.a)(L[C],2),F=(E[0],E[1]);k.includes(F.name)&&_.push(F.image)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"view-params",children:[Object(x.jsxs)("div",{className:"autoscroll-box",children:[Object(x.jsxs)("div",{className:"valign-text-middle",children:["Autoscroll speed: ",v]}),Object(x.jsxs)("div",{className:"scroll-regulator",children:[Object(x.jsx)("img",{src:V,onClick:function(){return S(-1)}}),Object(x.jsx)("div",{className:"vline"}),Object(x.jsx)("img",{src:Q,onClick:function(){return S(1)}})]})]}),Object(x.jsxs)("div",{className:"font-control-box",children:[Object(x.jsxs)("div",{className:"valign-text-middle",children:["Font size: ",g]}),Object(x.jsxs)("div",{className:"font-regulator",children:[Object(x.jsx)("img",{src:W,onClick:function(){return h(g-1)}}),Object(x.jsx)("div",{className:"vline"}),Object(x.jsx)("img",{src:q,onClick:function(){return h(g+1)}})]})]})]}),Object(x.jsxs)("div",{className:"song-box",id:"song-box",children:[Object(x.jsxs)("div",{className:"song-header-box",children:[Object(x.jsxs)("div",{className:"song-title-singer",children:[y.singer," - ",y.song_name]}),t&&n.id===y.user.id&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"nav-bar-button",children:Object(x.jsx)(d.b,{to:"/update_song/".concat(y.id),className:"navbar_button_link raleway-normal-black-20px",children:"Edit song"})})})]}),_&&Object(x.jsx)("div",{className:"chords-grid",children:_.map((function(e){return Object(x.jsx)("img",{src:e,className:"chord-pic"})}))}),Object(x.jsx)("div",{style:{fontSize:"".concat(g,"px")},className:"song-chords",children:y.song_text})]})]})}function X(){var e=Object(j.h)(),t=Object(m.b)(),n=e.searchQuery,s=Object(m.c)((function(e){return e.songs.songList})),c=Object(m.c)((function(e){return e.songs.count})),r=Object(m.c)((function(e){return e.songs.isError})),o="search=".concat(n,"&ordering=-views");return a.a.useEffect((function(){t(I(o))}),[]),r?Object(x.jsx)("h1",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"page-title",children:[Object(x.jsx)("div",{style:{marginRight:"10px"},className:"valign-text-middle alfaslabone-normal-muddy-waters-40px",children:"Search results:"}),Object(x.jsx)("div",{style:{marginTop:"17px"},children:Object(x.jsx)("div",{className:"valign-text-middle raleway-normal-white-title",children:decodeURIComponent(n)})})]}),Object(x.jsxs)("div",{className:"song-list-header",children:[Object(x.jsx)("div",{className:"song-name valign-text-middle raleway-normal-ship-gray-15px",children:"Singer - song name"}),Object(x.jsx)("div",{className:"clicks-number valign-text-middle raleway-normal-ship-gray-15px",children:"Views"})]}),Object(x.jsxs)("div",{className:"elements-list",children:[s.map((function(e){return Object(x.jsx)(Y,{id:e},e)})),s.length<c&&Object(x.jsx)("div",{className:"song-card-box",children:Object(x.jsx)("div",{className:"raleway-normal-ship-gray-15px show-more-button",onClick:function(){return t(T(o))},children:"Show more"})})]})]})}function Y(e){var t=e.id,n=Object(m.c)((function(e){return e.songs.songs[t]}));return Object(x.jsx)(d.b,{to:"/song/".concat(n.id),children:Object(x.jsx)("div",{className:"song-card-box",children:Object(x.jsxs)("div",{className:"song-card",children:[Object(x.jsxs)("div",{className:"song-name valign-text-middle raleway-normal-ship-gray-15px",children:[n.singer," - ",n.song_name]}),Object(x.jsx)("div",{className:"clicks-number valign-text-middle raleway-normal-ship-gray-15px",children:n.views})]})})})}function Z(e,t){var n=Object(j.g)(),s=function(){var s=Object(l.a)(i.a.mark((function s(a,c){var r,o;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("http://localhost:8000/api/token/",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({username:a,password:c})});case 2:return r=s.sent,s.next=5,r.json();case 5:if(o=s.sent,console.log("Inside onAuth: ",o),r.ok){s.next=10;break}return t(o.detail),s.abrupt("return");case 10:console.log("Logged in!"),e(!0),window.localStorage.setItem("ACCESS",o.access),window.localStorage.setItem("REFRESH",o.refresh),n("/");case 15:case"end":return s.stop()}}),s)})));return function(e,t){return s.apply(this,arguments)}}();return{onAuth:s}}function $(e){var t=e.setIsLogin,n=a.a.useState(""),s=Object(u.a)(n,2),c=s[0],r=s[1],o=a.a.useState(""),d=Object(u.a)(o,2),j=d[0],b=d[1],g=a.a.useState(""),h=Object(u.a)(g,2),m=h[0],p=h[1],O=a.a.useState(""),v=Object(u.a)(O,2),f=v[0],w=v[1],y=Z(t,w).onAuth;a.a.useEffect((function(){f&&w("")}),[c,j]);var N=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c){e.next=4;break}return w("Login is empty"),e.abrupt("return");case 4:if(j){e.next=7;break}return w("Password is empty"),e.abrupt("return");case 7:if(m){e.next=10;break}return w("Please, repeat password"),e.abrupt("return");case 10:if(j===m){e.next=13;break}return w("Passwords do not match"),e.abrupt("return");case 13:return e.next=15,fetch("http://localhost:8000/api/users/",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({username:c,password:j})});case 15:return n=e.sent,e.next=18,n.json();case 18:if(s=e.sent,console.log(n,s),n.ok){e.next=23;break}return w(s.detail),e.abrupt("return");case 23:return e.next=25,y(c,j);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"sign_up-box",children:Object(x.jsxs)("form",{onSubmit:N,children:[Object(x.jsxs)("div",{className:"fields-box",children:[Object(x.jsxs)("div",{className:"login-box",children:[Object(x.jsx)("div",{className:"login valign-text-middle alfaslabone-normal-black-30px",children:"Login"}),Object(x.jsx)("input",{type:"login",className:"login-input",onChange:function(e){return r(e.target.value)}})]}),Object(x.jsxs)("div",{className:"password-box",children:[Object(x.jsx)("div",{className:"password valign-text-middle alfaslabone-normal-black-30px",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"password-field",onChange:function(e){return b(e.target.value)}}),Object(x.jsx)("div",{className:"repeat-password valign-text-middle",children:"Please, repeat password"}),Object(x.jsx)("input",{type:"password",className:"repeat-password-input",onChange:function(e){return p(e.target.value)}})]}),Object(x.jsx)("div",{className:"error-text",children:f})]}),Object(x.jsx)("button",{className:"create-an-account valign-text-middle alfaslabone-normal-white-30px",type:"submit",children:"Create an account"})]})}),Object(x.jsx)("div",{className:"page-title valign-text-middle alfaslabone-normal-muddy-waters-40px",children:"Sign Up"})]})}function ee(e){var t=e.setIsLogin,n=Object(s.useState)(),c=Object(u.a)(n,2),r=c[0],o=c[1],d=Object(s.useState)(),j=Object(u.a)(d,2),b=j[0],g=j[1],h=a.a.useState(""),m=Object(u.a)(h,2),p=m[0],O=m[1],v=Z(t,O).onAuth;a.a.useEffect((function(){p&&O("")}),[r,b]);var f=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r){e.next=4;break}return O("Login is empty"),e.abrupt("return");case 4:if(b){e.next=7;break}return O("Password is empty"),e.abrupt("return");case 7:return e.next=9,v(r,b);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"page-title valign-text-middle alfaslabone-normal-muddy-waters-40px",children:"Log In"}),Object(x.jsx)("div",{className:"log_in-box",children:Object(x.jsxs)("form",{onSubmit:f,children:[Object(x.jsxs)("div",{className:"fields-box",children:[Object(x.jsxs)("div",{className:"login-box",children:[Object(x.jsx)("div",{className:"login valign-text-middle alfaslabone-normal-black-30px",children:"Login"}),Object(x.jsx)("input",{type:"login",className:"login-input",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(x.jsxs)("div",{className:"login-password-box",children:[Object(x.jsx)("div",{className:"password valign-text-middle alfaslabone-normal-black-30px",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"password-field",value:b,onChange:function(e){return g(e.target.value)}})]}),Object(x.jsx)("div",{className:"error-text",children:p})]}),Object(x.jsx)("button",{className:"create-an-account valign-text-middle alfaslabone-normal-white-30px",type:"submit",onClick:f,children:"Log me in!"})]})})]})}n(31);function te(e){var t=e.user,n=Object(j.g)(),s=a.a.useState(""),c=Object(u.a)(s,2),r=c[0],o=c[1],d=a.a.useState(""),b=Object(u.a)(d,2),g=b[0],h=b[1],m=a.a.useState(""),p=Object(u.a)(m,2),O=p[0],v=p[1],f=function(){var e=Object(l.a)(i.a.mark((function e(s){var a,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in a={singer:r,song_name:g,song_text:O,views:0,user:t},s.preventDefault(),c=new FormData,a)c.append(o,a[o]);return e.next=6,B("songs/",{method:"POST",body:c});case 6:l=e.sent,console.log(l),n("/song/".concat(l.id));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"singer-song-box",children:[Object(x.jsxs)("div",{className:"singer-box",children:[Object(x.jsx)("label",{children:"Singer:"}),Object(x.jsx)("input",{name:"singer",type:"text",value:r,className:"singer-input",onChange:function(e){o(e.target.value)}})]}),Object(x.jsxs)("div",{className:"song-name-box",children:[Object(x.jsx)("label",{children:"Song name:"}),Object(x.jsx)("input",{name:"song-name",type:"text",value:g,className:"song-name-input",onChange:function(e){h(e.target.value)}})]})]}),Object(x.jsxs)("div",{className:"input-song-box",children:[Object(x.jsx)("div",{className:"lyrics-and-chords",children:Object(x.jsx)("label",{children:" Lyrics & chords "})}),Object(x.jsx)("textarea",{name:"lyrics",type:"text",value:O,style:{fontSize:"15px"},className:"song-lyrics",onChange:function(e){v(e.target.value)}})]}),Object(x.jsx)("button",{type:"submit",className:"create-song-button alfaslabone-normal-white-25px",onClick:f,children:"Upload song!"})]})}function ne(){var e=Object(j.g)(),t=Object(m.b)(),n=Object(j.h)().song_id,s=Object(m.c)((function(e){return e.songs.songs[n]})),c=a.a.useState(""),r=Object(u.a)(c,2),o=r[0],d=r[1],b=a.a.useState(""),g=Object(u.a)(b,2),h=g[0],p=g[1],O=a.a.useState(""),v=Object(u.a)(O,2),f=v[0],w=v[1];if(a.a.useEffect((function(){t(A(n))}),[]),a.a.useEffect((function(){console.log("Song: ",n,s),s&&(d(s.singer),p(s.song_name),w(s.song_text))}),[s]),!s)return Object(x.jsx)(x.Fragment,{children:" "});var y=function(){var t=Object(l.a)(i.a.mark((function t(s){var a,c,r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in a={singer:o,song_name:h,song_text:f},s.preventDefault(),c=new FormData,a)c.append(r,a[r]);return t.next=6,B("songs/".concat(n,"/"),{method:"PATCH",body:c});case 6:l=t.sent,e("/song/".concat(l.id));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"singer-song-box",children:[Object(x.jsxs)("div",{className:"singer-box",children:[Object(x.jsx)("label",{children:"Singer:"}),Object(x.jsx)("input",{name:"singer",type:"text",value:o,className:"singer-input",onChange:function(e){d(e.target.value)}})]}),Object(x.jsxs)("div",{className:"song-name-box",children:[Object(x.jsx)("label",{children:"Song name:"}),Object(x.jsx)("input",{name:"song-name",type:"text",value:h,className:"song-name-input",onChange:function(e){p(e.target.value)}})]})]}),Object(x.jsxs)("div",{className:"input-song-box",children:[Object(x.jsx)("div",{className:"song-title-singer",children:Object(x.jsx)("label",{children:" Lyrics & chords "})}),Object(x.jsx)("textarea",{name:"lyrics",type:"text",value:f,style:{fontSize:"15px"},className:"song-lyrics",onChange:function(e){w(e.target.value)}})]}),Object(x.jsx)("button",{type:"submit",className:"create-song-button alfaslabone-normal-white-25px",onClick:y,children:"Save changes"})]})}function se(){var e=a.a.useState(null),t=Object(u.a)(e,2),n=t[0],s=t[1],c=a.a.useState(window.localStorage.getItem("ACCESS")),r=Object(u.a)(c,2),o=r[0],b=r[1],g=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("user/current/");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.useEffect((function(){o&&g()}),[o]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(d.a,{children:[Object(x.jsx)(h,{isLogin:o,user:n,setIsLogin:b}),Object(x.jsxs)(j.d,{children:[Object(x.jsx)(j.b,{path:"/",element:Object(x.jsx)(P,{})}),Object(x.jsx)(j.b,{path:"/Chords",element:Object(x.jsx)(j.a,{to:"/"})}),Object(x.jsx)(j.b,{path:"/search_results/:searchQuery",element:Object(x.jsx)(X,{})}),Object(x.jsx)(j.b,{path:"/sign_up",element:Object(x.jsx)($,{setIsLogin:b})}),Object(x.jsx)(j.b,{path:"/log_in",element:Object(x.jsx)(ee,{setIsLogin:b})}),Object(x.jsx)(j.b,{path:"/song/:songId",element:Object(x.jsx)(K,{isLogin:o,user:n})}),Object(x.jsx)(j.b,{path:"/log_out",element:Object(x.jsx)(j.a,{to:"/"})}),Object(x.jsx)(j.b,{path:"/add_song",element:Object(x.jsx)(te,{user:n})}),Object(x.jsx)(j.b,{path:"/update_song/:song_id",element:Object(x.jsx)(ne,{user:n})})]})]})})}var ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))},ce=n(13),re=n(34),oe=n(33),ie=Object(ce.combineReducers)({songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{count:t.payload.count,songList:t.payload.songList,songs:t.payload.songs,isError:!1,page:1};case S:return Object(f.a)(Object(f.a)({},e),{},{songList:[].concat(Object(v.a)(e.songList),Object(v.a)(t.payload.songList)),songs:Object(f.a)(Object(f.a)({},e.songs),t.payload.songs),isError:!1,page:e.page+1});case N:return Object(f.a)(Object(f.a)({},e),{},{isError:!0});case y:var n=t.payload,s=e.songList;return s.includes(n.id)||s.push(n.id),Object(f.a)(Object(f.a)({},e),{},{songList:s,songs:Object(f.a)(Object(f.a)({},e.songs),{},Object(O.a)({},n.id,n)),isError:!1});default:return e}},chords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return t.type===J?{chordList:t.payload.chordList,chords:t.payload.chords}:e}});r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(m.a,{store:Object(ce.createStore)(ie,{},Object(oe.composeWithDevTools)(Object(ce.applyMiddleware)(re.a))),children:Object(x.jsx)(se,{})})}),document.getElementById("root")),ae()}},[[57,1,2]]]);
//# sourceMappingURL=main.5a6d5595.chunk.js.map